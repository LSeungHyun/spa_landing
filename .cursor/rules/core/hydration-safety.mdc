---
description: 
globs: 
alwaysApply: true
---
# ğŸŒ ì–¸ì–´ ì‚¬ìš© ê·œì¹™ (Language Usage Rules)

**ê¸°ë³¸ ì–¸ì–´**: í•œêµ­ì–´
- ëª¨ë“  ë‹µë³€ê³¼ ì„¤ëª…ì€ í•œêµ­ì–´ë¡œ ì œê³µ
- ì½”ë“œ ì£¼ì„ê³¼ ë³€ìˆ˜ëª…ì€ ì˜ì–´ ì‚¬ìš© (ê°œë°œ í‘œì¤€)
- ê¸°ìˆ  ë¬¸ì„œëŠ” í•œêµ­ì–´ ìš°ì„ , í•„ìš”ì‹œ ì˜ì–´ ë³‘ê¸°

---

<!-- ruleType: always -->

# ğŸŒŠ Hydration Safety Rules (í•˜ì´ë“œë ˆì´ì…˜ ì•ˆì „ ê·œì¹™)

**ì¤‘ìš”**: ëª¨ë“  ë‹µë³€ê³¼ ì„¤ëª…ì€ í•œêµ­ì–´ë¡œ ì œê³µí•´ì£¼ì„¸ìš”.

## ğŸ¯ ëª©ì 
Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í•˜ì´ë“œë ˆì´ì…˜ ì—ëŸ¬ë¥¼ ì‚¬ì „ì— ë°©ì§€í•˜ê³ , SSR/CSR ë¶ˆì¼ì¹˜ë¥¼ ìµœì†Œí™”í•©ë‹ˆë‹¤.

## âœ… í•„ìˆ˜ ê·œì¹™

### 1. ë¸Œë¼ìš°ì € ì „ìš© API ê²©ë¦¬ (Required)
```typescript
// âŒ ì˜ëª»ëœ ì˜ˆ
const theme = localStorage.getItem('theme');

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
const [theme, setTheme] = useState<string>();
useEffect(() => {
  setTheme(localStorage.getItem('theme') || 'light');
}, []);
```

### 2. SWR ì•ˆì „ íŒ¨í„´ (Required)
```typescript
// SWRì€ ìì²´ì ìœ¼ë¡œ í•˜ì´ë“œë ˆì´ì…˜ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•©ë‹ˆë‹¤
const { data: user, isLoading } = useSWR('auth/user', fetcher, {
  fallbackData: null, // ì´ˆê¸°ê°’ ì„¤ì •
});

// ë¡œë”© ìƒíƒœ ì²˜ë¦¬
if (isLoading) return <LoadingState />;
if (!user) return <LoginPrompt />;
```

### 3. ì¡°ê±´ë¶€ ë Œë”ë§ ì‹œ í‚¤ ì‚¬ìš© (Required)
```typescript
// âŒ ì˜ëª»ëœ ì˜ˆ
{isLoggedIn && <UserProfile />}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
{isLoggedIn ? <UserProfile key="user-profile" /> : null}
```

### 4. ë‚ ì§œ/ì‹œê°„ ë Œë”ë§ (Required)
```typescript
// âŒ ì˜ëª»ëœ ì˜ˆ
<div>{new Date().toLocaleString()}</div>

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
const [currentTime, setCurrentTime] = useState<string>('');
useEffect(() => {
  setCurrentTime(new Date().toLocaleString());
}, []);
```

### 5. ë™ì  ìŠ¤íƒ€ì¼ ì ìš© (Required)
```typescript
// âŒ ì˜ëª»ëœ ì˜ˆ
<div style={{ height: window.innerHeight }}>

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
const [height, setHeight] = useState<number>(0);
useEffect(() => {
  setHeight(window.innerHeight);
}, []);
```

### 6. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶©ëŒ ë°©ì§€ (Required)
- ë™ì¼ ê¸°ëŠ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤‘ë³µ ì‚¬ìš© ê¸ˆì§€
- ìƒˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ ì „ ê¸°ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™•ì¸
- UI ì»´í¬ë„ŒíŠ¸ëŠ” shadcn-ui ìš°ì„  ì‚¬ìš©

### 7. 'use client' ë””ë ‰í‹°ë¸Œ ìµœì†Œí™” (Required)
- ê¼­ í•„ìš”í•œ ê²½ìš°ë§Œ ì‚¬ìš©
- ê°€ëŠ¥í•œ í•œ ì‘ì€ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„ë¦¬

### 8. ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ì ‘ê·¼ ê¸ˆì§€ (Required)
```typescript
// âŒ ì˜ëª»ëœ ì˜ˆ - ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ
export default function Page() {
  const { data: user } = useSWR('auth/user', fetcher); // ì—ëŸ¬!
  return <div>{user?.name}</div>;
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ - í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬
'use client';
export default function UserInfo() {
  const { data: user } = useSWR('auth/user', fetcher);
  return <div>{user?.name}</div>;
}
```

## ğŸ§ª ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] localStorage, sessionStorage ì§ì ‘ ì ‘ê·¼ ì—†ìŒ
- [ ] window, document ê°ì²´ useEffect ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©
- [ ] TanStack Queryì—ì„œ enabled ì˜µì…˜ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì œí•œ
- [ ] ë™ì  import ì‹œ loading ìƒíƒœ ì²˜ë¦¬
- [ ] ì¡°ê±´ë¶€ ë Œë”ë§ ì‹œ ì¼ê´€ëœ DOM êµ¬ì¡° ìœ ì§€
- [ ] ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ëª…í™•íˆ êµ¬ë¶„

##  ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ Æ¯ï¿½ï¿½ ï¿½ï¿½Ä¢

### 9. ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ Import ï¿½ï¿½ï¿½ï¿½È­ (Required)
- ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½Ê´ï¿½ lucide-react ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
- Play, Search, Calendar ï¿½ï¿½ ï¿½Ì»ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
- ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½Ï´ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ü¸ï¿½ import

### 10. ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½Ìµå·¹ï¿½Ì¼ï¿½ ï¿½ï¿½ï¿½ï¿½ (Required)
- useClientMounted() ï¿½ï¿½ ï¿½Ê¼ï¿½ ï¿½ï¿½ï¿½
- ï¿½ï¿½ï¿½ï¿½Æ® ï¿½ï¿½ ï¿½Îµï¿½ UI ï¿½ï¿½ï¿½ï¿½
- ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Í¸ï¿½ ï¿½Ê±ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½
